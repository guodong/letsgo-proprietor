webpackJsonp([0],[,,,,function(t,e,s){"use strict";var a=s(2),o=s(34),l=s(24),i=s.n(l),r=s(23),n=s.n(r),c=s(25),u=s.n(c),v=s(27),p=s.n(v),d=s(26),m=s.n(d);a.a.use(o.a),e.a=new o.a({routes:[{path:"/",name:"main",component:i.a,meta:{requiresAuth:!0},children:[{path:"/overview",component:u.a},{path:"products/list",name:"products",component:p.a},{path:"products/create",component:m.a}]},{path:"/auth",name:"auth",component:n.a}]})},function(t,e,s){s(18);var a=s(0)(s(7),s(31),null,null);t.exports=a.exports},,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),document.body.className="login-page",e.default={name:"hello",data:function(){return{phone:"",password:""}},methods:{submit:function(t){var e=this;this.$http.post("http://api.letsgo.qfplan.com/authentication",{phone:this.phone,password:this.password}).then(function(t){localStorage.setItem("token",t.body.data.token),e.$router.push("/")})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"main",activated:function(){this.$router.push("/overview")}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"hi",data:function(){return{msg:"Welcome to Your Vue.js App"}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(1),o=s.n(a);e.default={name:"hello",components:{Multiselect:o.a},data:function(){return{product:{},properties:[],selProperties:[],checkedValues:[],skus:[],categories:[],level1:{children:[]},level2:{children:[]},selCategory:"",currentSku:null,cates:[]}},created:function(){var t=this;this.$http.get("http://api.letsgo.qfplan.com/property").then(function(e){t.properties=e.body.data,t.product.skus=t.skus,t.propChange()}),this.$http.get("http://api.letsgo.qfplan.com/backendcategory").then(function(e){t.cates=e.body.data})},methods:{previewFiles:function(){function t(t){if(/\.(jpe?g|png|gif)$/i.test(t.name)){var s=new FileReader;s.addEventListener("load",function(){e.images.push(s.result)},!1),s.readAsDataURL(t)}}var e=this.currentSku,s=document.querySelector("input[type=file]").files;s&&[].forEach.call(s,t)},upload:function(t){this.currentSku=t,document.querySelector("input[type=file]").click()},propChange:function(){var t=[];for(var e in this.selProperties){var s={prop:this.selProperties[e],checks:[]};for(var a in this.selProperties[e].values){var o=!1;for(var l in this.checkedValues)if(this.checkedValues[l].id===this.selProperties[e].values[a].id){o=!0;break}o&&s.checks.push(this.selProperties[e].values[a])}t.push(s)}var i=1;for(var r in t)i*=t[r].checks.length;if(0!==i){this.skus.splice(0,this.skus.length);for(var e=0;e<i;e++){var n=e,c={images:[],state:1};c.properties=[];for(var a in t){var u=n%t[a].checks.length;n=parseInt(n/t[a].checks.length),c.properties[a]={prop:t[a].prop,value:t[a].checks[u]}}this.skus.push(c)}}},submit:function(){this.product.category_id=this.selCategory.id,this.product.skus.forEach(function(t){t.values=[],t.properties.forEach(function(e){t.values.push(e.value.id)})}),console.log(this.product),this.$http.post("http://api.letsgo.qfplan.com/product",this.product).then(function(t){this.$router.push("/products/list")})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"hello",data:function(){return{products:[]}},created:function(){var t=this;this.$http.get("http://api.letsgo.qfplan.com/product").then(function(e){t.products=e.body.data.data})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(2),o=s(5),l=s.n(o),i=s(4),r=s(1),n=s.n(r),c=s(6);a.a.use(c),a.a.component(n.a),a.a.config.productionTip=!1,i.a.beforeEach(function(t,e,s){document.body.className="hold-transition skin-blue sidebar-mini",t.matched.some(function(t){return t.meta.requiresAuth})?localStorage.getItem("token")&&"undefined"!==localStorage.getItem("token")?"/"===t.path?s({path:"/overview"}):s():s({path:"/auth",query:{redirect:t.fullPath}}):s()}),new a.a({el:"#app",router:i.a,template:"<App/>",components:{App:l.a,Multiselect:n.a}})},,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,function(t,e,s){var a=s(0)(s(8),s(28),null,null);t.exports=a.exports},function(t,e,s){s(16);var a=s(0)(s(9),s(29),null,null);t.exports=a.exports},function(t,e,s){s(19);var a=s(0)(s(10),s(32),"data-v-ed6f80da",null);t.exports=a.exports},function(t,e,s){s(20);var a=s(0)(s(11),s(33),"data-v-fceb4dc6",null);t.exports=a.exports},function(t,e,s){s(17);var a=s(0)(s(12),s(30),"data-v-afe1ac7e",null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-box"},[t._m(0),t._v(" "),s("div",{staticClass:"login-box-body"},[s("p",{staticClass:"login-box-msg"},[t._v("业主后台管理系统")]),t._v(" "),s("form",{attrs:{method:"post"},on:{submit:function(e){e.preventDefault(),t.submit(e)}}},[s("div",{staticClass:"form-group has-feedback"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control",attrs:{type:"text",placeholder:"手机号"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),t._v(" "),s("span",{staticClass:"glyphicon glyphicon-user form-control-feedback"})]),t._v(" "),s("div",{staticClass:"form-group has-feedback"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("span",{staticClass:"glyphicon glyphicon-lock form-control-feedback"})]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-4 col-xs-offset-8"},[s("button",{staticClass:"btn btn-primary btn-block btn-flat",attrs:{type:"button"},on:{click:t.submit}},[t._v("登 录")])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-logo"},[s("a",{attrs:{href:"../../index2.html"}},[s("b",[t._v("LETS")]),t._v("GO")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper",staticStyle:{height:"100%"}},[t._m(0),t._v(" "),s("aside",{staticClass:"main-sidebar"},[s("section",{staticClass:"sidebar"},[s("ul",{staticClass:"sidebar-menu"},[s("li",{staticClass:"header"},[t._v("MAIN NAVIGATION")]),t._v(" "),s("li",{staticClass:"active"},[s("router-link",{attrs:{to:"/"}},[s("i",{staticClass:"fa fa-dashboard"}),t._v(" "),s("span",[t._v("总览")])])],1),t._v(" "),s("li",{staticClass:"treeview"},[t._m(1),t._v(" "),s("ul",{staticClass:"treeview-menu"},[s("li",[s("router-link",{attrs:{to:"/products/list"}},[s("i",{staticClass:"fa fa-circle-o"}),t._v(" 商品列表")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/products/create"}},[s("i",{staticClass:"fa fa-circle-o"}),t._v(" 新增商品")])],1)])]),t._v(" "),t._m(2)])])]),t._v(" "),s("router-view")],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"main-header"},[s("a",{staticClass:"logo",attrs:{href:"main.html"}},[s("span",{staticClass:"logo-mini"},[s("b",[t._v("L")]),t._v("G")]),t._v(" "),s("span",{staticClass:"logo-lg"},[s("b",[t._v("LETS")]),t._v("GO")])]),t._v(" "),s("nav",{staticClass:"navbar navbar-static-top"},[s("a",{staticClass:"sidebar-toggle",attrs:{href:"#","data-toggle":"offcanvas",role:"button"}},[s("span",{staticClass:"sr-only"},[t._v("Toggle navigation")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:"#"}},[s("i",{staticClass:"fa fa-table"}),t._v(" "),s("span",[t._v("商品管理")]),t._v(" "),s("span",{staticClass:"pull-right-container"},[s("i",{staticClass:"fa fa-angle-left pull-right"})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{},[s("a",{attrs:{href:"orders.html"}},[s("i",{staticClass:"fa fa-files-o"}),t._v(" "),s("span",[t._v("订单管理")]),t._v(" "),s("span",{staticClass:"pull-right-container"},[s("small",{staticClass:"label pull-right bg-green"},[t._v("150")])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-wrapper"},[t._m(0),t._v(" "),s("section",{staticClass:"content"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("div",{staticClass:"box"},[t._m(1),t._v(" "),s("div",{staticClass:"box-body table-responsive no-padding"},[s("table",{staticClass:"table"},[t._m(2),t._v(" "),s("tbody",t._l(t.products,function(e){return s("tr",[s("td",[t._v(t._s(e.id))]),t._v(" "),s("td",{staticStyle:{width:"180px","vertical-align":"middle"}},[t._v(t._s(e.name))]),t._v(" "),s("td",[s("table",{staticClass:"table table-hover subtable"},[t._m(3,!0),t._v(" "),s("tbody",t._l(e.skus,function(e){return s("tr",[s("td",[t._v(t._s(e.id))]),t._v(" "),s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v("¥"+t._s(e.price)+"/"+t._s(e.unit))]),t._v(" "),s("td",[t._v(t._s(e.stock))])])}))])])])}))])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"content-header"},[s("h1",[t._v("\n    商品管理\n    "),s("small",[t._v("商品列表")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box-header"},[s("h3",{staticClass:"box-title"},[t._v("商品列表")]),t._v(" "),s("div",{staticClass:"box-tools"},[s("ul",{staticClass:"pagination pagination-sm no-margin pull-right"},[s("li",[s("a",{attrs:{href:"#"}},[t._v("«")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"}},[t._v("1")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"}},[t._v("2")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"}},[t._v("3")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"}},[t._v("»")])])]),t._v(" "),s("div",{staticClass:"input-group input-group-sm",staticStyle:{width:"150px"}},[s("input",{staticClass:"form-control pull-right",attrs:{type:"text",name:"table_search",placeholder:"Search"}}),t._v(" "),s("div",{staticClass:"input-group-btn"},[s("button",{staticClass:"btn btn-default",attrs:{type:"submit"}},[s("i",{staticClass:"fa fa-search"})])])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("ID")]),t._v(" "),s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("单品")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",[t._v("ID")]),t._v(" "),s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("价格")]),t._v(" "),s("th",[t._v("库存")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("router-view")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-wrapper"},[s("section",{staticClass:"content-header"},[s("h1",[t._v("\n      总览\n      "),s("small",[t._v("数据视图")])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-wrapper"},[t._m(0),t._v(" "),s("section",{staticClass:"content"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("div",{staticClass:"box box-info"},[t._m(1),t._v(" "),s("form",{staticClass:"form-horizontal"},[s("div",{staticClass:"box-body"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label"},[t._v("类别")]),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.level1,expression:"level1"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.level1=e.target.multiple?s:s[0]}}},t._l(t.cates,function(e){return 0==e.pid?s("option",{domProps:{value:e}},[t._v("\n                        "+t._s(e.name)+"\n                      ")]):t._e()}))]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.level2,expression:"level2"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.level2=e.target.multiple?s:s[0]}}},t._l(t.cates,function(e){return e.pid==t.level1.id?s("option",{domProps:{value:e}},[t._v("\n                        "+t._s(e.name)+"\n                      ")]):t._e()}))]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.selCategory,expression:"selCategory"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selCategory=e.target.multiple?s:s[0]}}},t._l(t.cates,function(e){return e.pid==t.level2.id?s("option",{domProps:{value:e}},[t._v("\n                        "+t._s(e.name)+"\n                      ")]):t._e()}))])])])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label"},[t._v("名称")]),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"名称"},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||(t.product.name=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label"},[t._v("描述")]),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.product.desc,expression:"product.desc"}],staticClass:"form-control",attrs:{name:"desc",placeholder:"描述"},domProps:{value:t.product.desc},on:{input:function(e){e.target.composing||(t.product.desc=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label"},[t._v("属性类型")]),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("multiselect",{attrs:{options:t.properties,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,placeholder:"属性类型",label:"name","track-by":"name"},on:{input:t.propChange},model:{value:t.selProperties,callback:function(e){t.selProperties=e},expression:"selProperties"}})],1)]),t._v(" "),t._l(t.selProperties,function(e){return s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label"},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"col-sm-10"},t._l(e.values,function(e){return s("div",{staticClass:"checkbox pull-left",staticStyle:{"min-width":"80px"}},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedValues,expression:"checkedValues"}],attrs:{type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.checkedValues)?t._i(t.checkedValues,e)>-1:t.checkedValues},on:{change:t.propChange,__c:function(s){var a=t.checkedValues,o=s.target,l=!!o.checked;if(Array.isArray(a)){var i=e,r=t._i(a,i);l?r<0&&(t.checkedValues=a.concat(i)):r>-1&&(t.checkedValues=a.slice(0,r).concat(a.slice(r+1)))}else t.checkedValues=l}}}),t._v("\n                    "+t._s(e.name)+"\n                  ")])])}))])})],2)])])])]),t._v(" "),s("div",{staticClass:"row"},t._l(t.skus,function(e,a){return s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"box box-warning"},[s("div",{staticClass:"box-header with-border"},[s("h3",{staticClass:"box-title"},[t._v("单品 #"+t._s(a+1))])]),t._v(" "),s("form",{staticClass:"form-horizontal"},[s("div",{staticClass:"box-body"},[t._l(e.properties,function(e){return s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label"},[t._v(t._s(e.prop.name))]),t._v(" "),s("div",{staticClass:"col-sm-10"},[t._v("\n                "+t._s(e.value.name)+"\n              ")])])}),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label"},[t._v("名称")]),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"sku.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"名称"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label"},[t._v("条形码")]),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.barcode,expression:"sku.barcode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"条形码"},domProps:{value:e.barcode},on:{input:function(t){t.target.composing||(e.barcode=t.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label"},[t._v("价格")]),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("div",{staticClass:"input-group"},[s("span",{staticClass:"input-group-addon"},[t._v("¥")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"sku.price"}],staticClass:"form-control",attrs:{type:"text",placeholder:"价格"},domProps:{value:e.price},on:{input:function(t){t.target.composing||(e.price=t.target.value)}}})])])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label"},[t._v("单位")]),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.unit,expression:"sku.unit"}],staticClass:"form-control",attrs:{type:"text",placeholder:"单位",value:"个"},domProps:{value:e.unit},on:{input:function(t){t.target.composing||(e.unit=t.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label"},[t._v("库存")]),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.stock,expression:"sku.stock"}],staticClass:"form-control",attrs:{type:"text",placeholder:"库存"},domProps:{value:e.stock},on:{input:function(t){t.target.composing||(e.stock=t.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label"},[t._v("销售状态")]),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("div",{staticClass:"radio"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.state,expression:"sku.state"}],attrs:{type:"radio",name:"optionsRadios",value:"1",checked:""},domProps:{checked:t._q(e.state,"1")},on:{__c:function(t){e.state="1"}}}),t._v("\n                    上架\n                  ")]),t._v(" "),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.state,expression:"sku.state"}],attrs:{type:"radio",name:"optionsRadios",value:"2"},domProps:{checked:t._q(e.state,"2")},on:{__c:function(t){e.state="2"}}}),t._v("\n                    下架\n                  ")])])])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label"},[t._v("图片")]),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("div",{staticClass:"row"},[t._l(e.images,function(t){return s("div",{staticClass:"col-md-3"},[s("a",{staticClass:"thumbnail",attrs:{href:"#"}},[s("img",{attrs:{src:t,alt:"..."}})])])}),t._v(" "),s("div",{staticClass:"col-md-3"},[s("span",{staticClass:"info-box-icon bg-light-blue",on:{click:function(s){t.upload(e)}}},[s("i",{staticClass:"fa fa-plus"})])])],2)])])],2)])])])})),t._v(" "),s("button",{staticClass:"btn btn-success",staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:t.submit}},[t._v("发布商品")])]),t._v(" "),s("input",{staticStyle:{display:"none"},attrs:{id:"browse",type:"file",multiple:""},on:{change:function(e){t.previewFiles()}}})])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"content-header"},[s("h1",[t._v("\n    商品管理\n    "),s("small",[t._v("添加商品")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box-header with-border"},[s("h3",{staticClass:"box-title"},[t._v("商品信息")])])}]}},,,function(t,e){}],[13]);
//# sourceMappingURL=app.d76c0e81547e1a4a11e9.js.map